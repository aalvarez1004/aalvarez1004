
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>F1 Circuit Simulation</title>
    <style>
        /* Add your CSS styles here for better aesthetics */
    </style>
</head>
<body>
    <h1>F1 Final Circuit Simulation</h1>

    <!-- Circuit Selection Dropdown -->
    <label for="circuitSelect">Select Circuit:</label>
    <select id="circuitSelect" onchange="changeCircuit()">
        <option value="circuit1">Circuit 1</option>
        <option value="circuit2">Circuit 2</option>
    </select><br><br>

    <!-- Customizable Race Settings for Circuit 1 -->
    <div id="customizableSettingsCircuit1">
        <label for="lapDuration1">Lap Duration (seconds):</label>
        <input type="number" id="lapDuration1" min="1" value="5"><br>

        <label for="numLaps1">Number of Laps:</label>
        <input type="number" id="numLaps1" min="1" value="10"><br>

        <label for="yellowColor1">Yellow Ball 1 Color:</label>
        <input type="color" id="yellowColor1" value="#FFFF00"><br>

        <label for="greenColor1">Green Ball 2 Color:</label>
        <input type="color" id="greenColor1" value="#008000"><br>
    </div>

    <!-- Customizable Race Settings for Circuit 2 -->
    <div id="customizableSettingsCircuit2" style="display: none;">
        <label for="lapDuration2">Lap Duration (seconds):</label>
        <input type="number" id="lapDuration2" min="1" value="5"><br>

        <label for="numLaps2">Number of Laps:</label>
        <input type="number" id="numLaps2" min="1" value="10"><br>

        <label for="yellowColor2">Yellow Ball 1 Color:</label>
        <input type="color" id="yellowColor2" value="#FFFF00"><br>

        <label for="greenColor2">Green Ball 2 Color:</label>
        <input type="color" id="greenColor2" value="#008000"><br>
    </div>

    <button id="startButton" onclick="startRace()">Start Race</button>
    <button id="stopButton" onclick="stopRace()" disabled>Stop Race</button><br><br>

    <!-- SVG elements for Circuit 1 -->
    <svg width="1500" height="600" id="svgCircuit1" style="display: block;">
        <!-- Circuit 1 Path -->
        <path id="circuit1" d="m 134.49901,287.15128 c -31.14068,6.02315 -63.676894,15.47688 -88.290763,35.48133 -2.308765,1.8764 -4.52173,4.48233 -4.95088,7.42633 -0.539637,3.70195 1.010363,7.7688 3.30059,10.72692 2.570222,3.31977 6.556185,6.11962 10.72692,6.60118 4.320207,0.49882 8.677808,-1.83938 12.37721,-4.12574 6.286806,-3.88546 15.677795,-15.6778 15.677795,-15.6778 0,0 7.271968,-9.98909 12.37721,-13.20236 4.638088,-2.91924 10.404048,-3.46046 15.677798,-4.95088 4.36525,-1.23367 8.66678,-3.22374 13.20235,-3.30059 3.93754,-0.0667 7.63588,2.06056 11.55207,2.47544 4.10278,0.43465 8.30475,0.66087 12.37721,0 3.4342,-0.55729 9.90177,-3.30059 9.90177,-3.30059 0,0 3.77765,-1.77695 5.77603,-1.65029 2.09052,0.1325 5.77603,2.47544 5.77603,2.47544 l 11.55206,8.25147 c 0,0 6.34353,3.77341 9.90177,4.12574 2.79131,0.27639 8.25147,-1.6503 8.25147,-1.6503 l 8.25148,-2.47544 c 0,0 8.02605,-2.0554 11.55206,-4.12574 2.52131,-1.48042 6.60118,-5.77603 6.60118,-5.77603 l 9.90177,-9.07662 4.95088,-4.95088 c 3.57564,-3.57564 6.57902,-7.83464 10.72692,-10.72692 3.23033,-2.25247 7.07641,-3.47356 10.72691,-4.95088 5.40256,-2.18635 11.17021,-3.42452 16.50295,-5.77603 7.43166,-3.27704 15.67298,-5.84678 21.45383,-11.55207 2.01552,-1.98917 2.49035,-5.11448 4.12574,-7.42632 5.51395,-7.79468 11.48425,-15.53787 18.97838,-21.45383 3.67009,-2.89722 8.1373,-4.62975 12.37722,-6.60118 4.02929,-1.87349 8.19441,-3.45111 12.37721,-4.95089 5.97738,-2.14324 18.15324,-5.77603 18.15324,-5.77603 0,0 14.08506,0.17577 19.80353,-3.30059 2.35028,-1.42878 4.95089,-6.60118 4.95089,-6.60118 l 3.30059,-8.25147 c 0,0 3.12205,-9.72323 6.60118,-13.20236 3.04424,-3.04424 7.65864,-3.93863 11.55206,-5.77603 2.44982,-1.15613 4.74659,-2.90399 7.42632,-3.30059 6.58087,-0.97398 19.80354,2.47544 19.80354,2.47544 l 14.02751,2.47545 h 18.97838 l 14.02751,-3.30059 c 0,0 8.5362,-1.43544 12.37721,-3.30059 2.47421,-1.20145 4.34269,-3.38105 6.60118,-4.95089 3.75888,-2.61274 11.55206,-7.42631 11.55206,-7.42631 0,0 3.14538,-3.99542 4.95089,-5.77603 3.05904,-3.01685 6.7292,-5.35425 9.90176,-8.25148 3.73399,-3.40994 7.41375,-6.90679 10.72692,-10.72691 3.60425,-4.15574 7.18252,-8.42047 9.90177,-13.20236 2.49964,-4.3957 5.77603,-14.02751 5.77603,-14.02751 0,0 1.45548,-6.656092 2.47544,-9.901775 1.85303,-5.896657 5.48251,-11.24921 6.60118,-17.328095 0.34846,-1.893548 0,-5.776031 0,-5.776031 l 3.30059,-14.852652 c 0,0 1.73917,-5.109424 0.82515,-7.426326 -0.93059,-2.358904 -3.55068,-3.735052 -5.77603,-4.950885 -2.52001,-1.376823 -5.39459,-2.765674 -8.25148,-2.475442 -4.04025,0.410449 -10.72691,5.776032 -10.72691,5.776032 l -6.60118,6.601179 c 0,0 -50.85118,30.725996 -75.08841,47.858555 -9.1206,6.44708 -17.76894,13.54536 -26.40472,20.62869 -22.16695,18.182 -45.85135,34.94151 -65.18664,56.11001 -1.5957,1.74699 -4.32088,3.41803 -4.12573,5.77603 0.1925,2.32591 4.95088,4.95088 4.95088,4.95088 0,0 1.84164,3.62203 0.82515,4.95089 -1.67943,2.19553 -5.4907,0.68745 -8.25148,0.82514 -4.67003,0.23292 -9.46053,-1.00308 -14.0275,0 -3.84642,0.84482 -7.13496,3.33643 -10.72692,4.95089 -4.38131,1.96925 -13.20235,5.77603 -13.20235,5.77603 0,0 -28.03656,13.11731 -39.60708,23.10412 -1.33323,1.15075 -2.92505,2.40507 -3.30059,4.12574 -0.24182,1.10798 0.89439,2.16865 0.82515,3.30059 -0.23392,3.82384 -1.96235,7.56523 -4.12574,10.72692 -2.30903,3.37453 -5.26282,6.77703 -9.07662,8.25147 -3.07853,1.19018 -9.90176,0 -9.90176,0 0,0 -8.28645,-0.53607 -12.37721,0 -4.23371,0.5548 -12.37721,3.30059 -12.37721,3.30059 0,0 -5.4937,3.30627 -7.42633,5.77603 -1.66941,2.13338 -3.30059,7.42633 -3.30059,7.42633 0,0 -2.1721,7.93638 -4.95088,10.72691 -3.21257,3.22615 -8.11834,4.16646 -12.37721,5.77603 -4.55915,1.72305 -9.15386,4.07749 -14.02751,4.12574 -3.13589,0.0311 -6.31335,-0.99251 -9.07662,-2.47544 -2.57627,-1.38257 -6.60118,-5.77603 -6.60118,-5.77603 0,0 -4.60668,-3.86368 -7.42633,-4.12574 -3.46419,-0.32196 -9.90176,3.30059 -9.90176,3.30059 0,0 -4.20688,2.73537 -6.60118,3.30059 -4.01537,0.9479 -8.25147,0 -12.37721,0 0,0 -7.21634,-0.67901 -10.72692,0 z />
        <text x="100" y="500" font-size="20" fill="black">Australia Circuit</text>
        

        <!-- Yellow Ball 1 for Circuit 1 -->
        <circle id="bola1_1" r="5" fill="yellow">
            <animateMotion id="animateYellow1_1" dur="5s" repeatCount="indefinite" begin="animating.begin" fill="freeze">
                <mpath xlink:href="#circuit1" />
            </animateMotion>
        </circle>

        <!-- Green Ball 2 for Circuit 1 -->
        <circle id="bola1_2" r="5" fill="green">
            <animateMotion id="animateGreen1_2" dur="10s" repeatCount="indefinite" begin="animating.begin" fill="freeze">
                <mpath xlink:href="#circuit1" />
            </animateMotion>
        </circle>
    </svg>

    <!-- SVG elements for Circuit 2 -->
    <svg width="1500" height="600" id="svgCircuit2" style="display: none;">
        <!-- Circuit 2 Path -->
        <path id="circuit2" d="m 40.821427,67.27976 c -6.825421,-0.632979 -13.7324,2.596146 -19.654761,6.047621 -5.390254,3.14137 -11.6504711,6.92713 -13.6071422,12.85119 -3.6120757,10.935999 -3.4362115,27.483329 6.0476192,34.017859 4.435807,3.05635 10.489046,-2.928 15.874999,-3.02381 6.627619,-0.11789 13.040835,3.46562 19.654763,3.02381 4.45524,-0.29761 12.851188,-3.77976 12.851188,-3.77976 l 32.505954,9.82738 c 0,0 43.416913,20.31487 63.500003,33.2619 11.01504,7.1011 30.99404,24.19048 30.99404,24.19048 l 15.11905,-28.72619 -69.54762,-41.57738 -8.53689,16.53923 -13.56128,-9.11728 c 0,0 -8.02315,-5.62727 -12.23281,-4.53572 -1.7194,0.44584 -1.754078,3.57559 -3.466635,4.04703 -10.737126,2.9558 -31.658289,-10.67503 -31.658289,-10.67503 l 7.467811,-9.865376 v -4.535715 l -3.02381,-5.291667 c 0,0 2.489527,-4.696105 1.511906,-6.803572 -4.79052,-10.326967 -18.902741,-14.823776 -30.238096,-15.875 z" stroke="black" fill="transparent" stroke-width="5" />
<text x="100" y="500" font-size="20" fill="black">Azerbaijan Circuit</text>

        <!-- Yellow Ball 1 for Circuit 2 -->
        <circle id="bola2_1" r="5" fill="yellow">
            <animateMotion id="animateYellow2_1" dur="5s" repeatCount="indefinite" begin="animating.begin" fill="freeze">
                <mpath xlink:href="#circuit2" />
            </animateMotion>
        </circle>
        <!-- Green Ball 2 for Circuit 2 -->
        <circle id="bola2_2" r="5" fill="green">
            <animateMotion id="animateGreen2_2" dur="10s" repeatCount="indefinite" begin="animating.begin" fill="freeze">
                <mpath xlink:href="#circuit2" />
            </animateMotion>
        </circle>
    </svg>

    <br><br>
    <div id="lapCounter"></div>
    <div id="lapTime"></div>

    <script>
        var lapCounter1 = 0;
        var lapCounter2 = 0;
        var lapTime = 0;
        var lapInterval;
   
        // Initial visibility based on the selected circuit
        var selectedCircuit = document.getElementById("circuitSelect").value;
        if (selectedCircuit === "circuit1") {
            document.getElementById("svgCircuit1").style.display = "block";
            document.getElementById("svgCircuit2").style.display = "none";
        } else if (selectedCircuit === "circuit2") {
            document.getElementById("svgCircuit1").style.display = "none";
            document.getElementById("svgCircuit2").style.display = "block";
        }

        // Show/hide circuits based on the selected circuit
        function changeCircuit() {
            var selectedCircuit = document.getElementById("circuitSelect").value;

            if (selectedCircuit === "circuit1") {
                document.getElementById("svgCircuit1").style.display = "block";
                document.getElementById("svgCircuit2").style.display = "none";
            } else if (selectedCircuit === "circuit2") {
                document.getElementById("svgCircuit1").style.display = "none";
                document.getElementById("svgCircuit2").style.display = "block";
            }
        }
        
function startRace() {
            // Read selected circuit
            var selectedCircuit = document.getElementById("circuitSelect").value;

            // Read customizable settings for the selected circuit
            var lapDuration, numLaps, yellowColor, greenColor;
            if (selectedCircuit === "circuit1") {
                lapDuration = parseInt(document.getElementById("lapDuration1").value, 10);
                numLaps = parseInt(document.getElementById("numLaps1").value, 10);
                yellowColor = document.getElementById("yellowColor1").value;
                greenColor = document.getElementById("greenColor1").value;
            } else if (selectedCircuit === "circuit2") {
                lapDuration = parseInt(document.getElementById("lapDuration2").value, 10);
                numLaps = parseInt(document.getElementById("numLaps2").value, 10);
                yellowColor = document.getElementById("yellowColor2").value;
                greenColor = document.getElementById("greenColor2").value;
            }

            // Set animation durations based on selected circuit
            var yellowBallDuration = selectedCircuit === "circuit1" ? lapDuration : lapDuration * 2;
            var greenBallDuration = selectedCircuit === "circuit1" ? lapDuration * 2 : lapDuration;
            document.getElementById("animateYellow1_1").setAttribute("dur", yellowBallDuration + "s");
            document.getElementById("animateGreen1_2").setAttribute("dur", greenBallDuration + "s");
            document.getElementById("animateYellow2_1").setAttribute("dur", yellowBallDuration + "s");
            document.getElementById("animateGreen2_2").setAttribute("dur", greenBallDuration + "s");

            // Update lap counters
            lapCounter1 = 0;
            lapCounter2 = 0;
            lapTime = 0;
            document.getElementById("lapCounter").innerHTML = "Number of laps - Circuit 1: " + lapCounter1 + ", Circuit 2: " + lapCounter2;
            document.getElementById("lapTime").innerHTML = "Lap time: " + formatTime(lapTime);
            document.getElementById("startButton").disabled = true;
            document.getElementById("stopButton").disabled = false;

            // Apply ball colors
            document.getElementById("bola1_1").setAttribute("fill", yellowColor);
            document.getElementById("bola1_2").setAttribute("fill", greenColor);
            document.getElementById("bola2_1").setAttribute("fill", yellowColor);
            document.getElementById("bola2_2").setAttribute("fill", greenColor);

            // Show/hide selected circuit's SVG
            if (selectedCircuit === "circuit1") {
                document.getElementById("svgCircuit1").style.display = "block";
                document.getElementById("svgCircuit2").style.display = "none";
            } else if (selectedCircuit === "circuit2") {
                document.getElementById("svgCircuit1").style.display = "none";
                document.getElementById("svgCircuit2").style.display = "block";
            }

            // Start animations
            document.getElementById("animateYellow1_1").beginElement();
            document.getElementById("animateGreen1_2").beginElement();
            document.getElementById("animateYellow2_1").beginElement();
            document.getElementById("animateGreen2_2").beginElement();

            lapInterval = setInterval(function () {
                lapTime++;
                document.getElementById("lapTime").innerHTML = "Lap time: " + formatTime(lapTime);

                // Check if the balls have completed laps
                if (lapTime % lapDuration === 0) {
                    lapCounter1++;
                }
                if (lapTime % (lapDuration * 2) === 0) {
                    lapCounter2++;
                }

                document.getElementById("lapCounter").innerHTML = "Number of laps - Circuit 1: " + lapCounter1 + ", Circuit 2: " + lapCounter2;

                // Check if the race is complete
                if (lapCounter1 >= numLaps || lapCounter2 >= numLaps) {
                    stopRace();
                }
            }, 1000);
        }

        function stopRace() {
            clearInterval(lapInterval);
            document.getElementById("startButton").disabled = false;
            document.getElementById("stopButton").disabled = true;

            // Stop animations
            document.getElementById("animateYellow1_1").endElement();
            document.getElementById("animateGreen1_2").endElement();
            document.getElementById("animateYellow2_1").endElement();
            document.getElementById("animateGreen2_2").endElement();
        }

        function formatTime(time) {
            var minutes = Math.floor(time / 60);
            var seconds = time % 60;
            return minutes + "m " + seconds + "s";
        }

    </script>
    
</body>
</html>
